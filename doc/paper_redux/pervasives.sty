\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{colors}
\usepackage{etoolbox}
\usepackage{mathrsfs}
\usepackage{mathtools}

% Theorems, Lemmas, Claims, etc.
\theoremstyle{definition}
\newtheorem{claim}{Claim}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\renewcommand{\qedsymbol}{$\blacksquare$}

% References.
\newtoggle{showlabels}
\toggletrue{showlabels}
% \togglefalse{showlabels}
\newcommand{\genericlabel}[2]{%
  \label{#1:#2}%
  \iftoggle{showlabels}{\textcolor{flatdarkgray}{\texttt{[#2]}}}{}%
}
\newcommand{\algolabel}[1]{\genericlabel{alg}{#1}}
\newcommand{\algoref}[1]{Algorithm~\ref{alg:#1}}
\newcommand{\applabel}[1]{\genericlabel{app}{#1}}
\newcommand{\appref}[1]{Appendix~\ref{app:#1}}
\newcommand{\clmlabel}[1]{\genericlabel{clm}{#1}}
\newcommand{\clmref}[1]{Claim~\ref{clm:#1}}
\newcommand{\eqnlabel}[1]{\genericlabel{eqn}{#1}}
\newcommand{\eqnref}[1]{\eqref{eqn:#1}}
\newcommand{\examplelabel}[1]{\genericlabel{exa}{#1}}
\newcommand{\exampleref}[1]{Example~\ref{exa:#1}}
\newcommand{\figlabel}[1]{\genericlabel{fig}{#1}}
\newcommand{\figref}[1]{Figure~\ref{fig:#1}}
\newcommand{\lemlabel}[1]{\genericlabel{lem}{#1}}
\newcommand{\lemref}[1]{Lemma~\ref{lem:#1}}
\newcommand{\lstlabel}[1]{\genericlabel{lst}{#1}}
\newcommand{\lstref}[1]{Listing~\ref{lst:#1}}
\newcommand{\seclabel}[1]{\genericlabel{sec}{#1}}
\newcommand{\secref}[1]{Section~\ref{sec:#1}}
\newcommand{\thmlabel}[1]{\genericlabel{thm}{#1}}
\newcommand{\thmref}[1]{Theorem~\ref{thm:#1}}

% Surrounding symbols.
\DeclarePairedDelimiter{\parens}{(}{)}
\DeclarePairedDelimiter{\set}{\{}{\}}
\DeclarePairedDelimiterX{\setst}[2]{\{}{\}}{#1 \,\delimsize|\, #2}
\DeclarePairedDelimiter{\brackets}{[}{]}
\DeclarePairedDelimiterX{\pfrac}[2]{(}{)}{\frac{#1}{#2}}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}

% Symbols and abbreviations.
\newcommand{\complexes}{\mathbb{C}}
\newcommand{\ints}{\mathbb{Z}}
\newcommand{\nats}{\mathbb{N}}
\newcommand{\rats}{\mathbb{Q}}
\newcommand{\reals}{\mathbb{R}}
\newcommand{\half}{\frac{1}{2}}
\newcommand{\phalf}{\pfrac{1}{2}}
\newcommand{\join}{\sqcup}
\newcommand{\meet}{\sqcap}
\newcommand{\defeq}{\triangleq}

% Common things.
\newcommand{\halved}[1]{\frac{#1}{2}}
\newcommand{\phalved}[1]{\pfrac{#1}{2}}
\newcommand{\inv}[1]{{#1}^{-1}}
\newcommand{\seq}[3]{{#1}_{#2}, \ldots, {#1}_{#3}}
\newcommand{\seqonen}[1]{\seq{#1}{1}{n}}
\newcommand{\defword}[1]{\textcolor{flatpurple}{\textbf{#1}}}
\newcommand{\todo}[1]{\textcolor{flatred}{\textbf{TODO: #1}}}
\DeclarePairedDelimiter{\powerset}{\mathcal{P}(}{)}
